{"published": "2015-09-08T15:01:03Z", "media-type": "Blog", "title": "Reduce SNMPd Logging Level", "id": "527cae34-ab75-4046-8a3f-766473322f9a", "content": "Home \u00bb Performance Reduce SNMPd Logging Level Submitted by Igor on September 8, 2015 \u2013 11:01 am By default, (on RHEL/CentOS, at least) snmpd will log all connection attempts, which can turn your /var/log/messages into a giant mess, looking something like this\u2026\rShell\r1\n2\n3\n4\n5\rSep\u00a0\u00a08 10:26:00 deathstar snmpd[25387]: Connection from UDP: [192.168.12.32]:35794->[192.168.23.54]\nSep\u00a0\u00a08 10:26:00 deathstar snmpd[25387]: Connection from UDP: [192.168.12.32]:35794->[192.168.23.54]\nSep\u00a0\u00a08 10:26:00 deathstar snmpd[25387]: Connection from UDP: [192.168.12.32]:35794->[192.168.23.54]\nSep\u00a0\u00a08 10:26:00 deathstar snmpd[25387]: Connection from UDP: [192.168.12.32]:35794->[192.168.23.54]\nSep\u00a0\u00a08 10:26:00 deathstar snmpd[25387]: Connection from UDP: [192.168.12.32]:35794->[192.168.23.54]\rThe entries are repetitive and, in most cases, are of no value. They simply tell you that some server out there has tried to connect to the SNMP service. With a large number of incoming connections, much of your server\u2019s resources may be wasted on logging this useless data. Since the net-snmp v 5.3, you have the ability to disable this particular log message. Below if a quick overview tested on RHEL 6.3. Update net-snmp:\rShell\r1\ryum -y update net-snmp\rUpdate\u00a0/etc/snmp/snmpd.conf\rShell\r1\n2\n3\rcat << EOF >> /etc/snmp/snmpd.conf\ndontLogTCPWrappersConnects 1\nEOF\rUpdate\u00a0/etc/sysconfig/snmpd (see note below)\rShell\r1\n2\n3\rcat << EOF >> /etc/sysconfig/snmpd\nOPTIONS=\"-Lsd -Lf /dev/null -p /var/run/snmpd.pid\"\nEOF\rRestart snmpd\rShell\r1\r/sbin/service snmpd restart\rNote: you may need to edit either\u00a0/etc/sysconfig/snmpd or\u00a0/etc/sysconfig/snmpd.options. Check /etc/init.d/snmpd for the following \u201cif\u201d statement to figure out which file to edit (or create):\rShell\r1\n2\n3\rif [ -e /etc/sysconfig/snmpd ]; then\n\u00a0\u00a0. /etc/sysconfig/snmpd\nfi\r\u00a0 Tweet", "source": "KrazyWorks"}