{"published": "2015-09-13T05:02:21Z", "media-type": "News", "title": "Writing an RSS Aggregator Part 1", "id": "2ce6891d-b87c-47e9-82b6-de2cb2fedef6", "content": "By Jeffry Houser  \nArticle Rating: \n   June 28, 2006 04:45 AM EDT  \nReads: \n 19,450    \n So often in this column I feel that I'm writing about basic concepts and using trivial examples. It's often up to you, as the reader, to figure out how to apply these concepts to your development. I thought it might be a good idea to take some space to try to bring a lot of the concepts together and build an application. I don't always take the space to do so, but thought I'd give it a try here.  \n\nI'm sure that most of you read (or at least have heard of) blogs. Blogs are a great way to keep up on the up-to-the-minute comings and going of whatever community you choose. There are tons of bloggers throughout the ColdFusion community, some blogging from inside Adobe. Many blogs provide an RSS feed for content. RSS stands for Really Simple Syndication and is an XML dialect. There are a handful of RSS aggregators in the ColdFusion community such as mxna ( http://weblogs.macromedia.com/mxna/ ), Full As a Goog ( www.fullasagoog.com/ ), and Feed Squirrel ( www.feed-squirrel.com/ ). I've always thought it would be cool to create something like a LiveJournal friends list of my very own. In this series of articles, I'm going to step you through the thought process that I'd go through to create one. First I'll concentrate on designing the database and fleshing out the ColdFusion components. \n\n Designing the Back End \nWhen developing an application, I normally start with the database design, and that is where we'll start here. If you need a refresher on database design techniques, you can review the database design article from this column at http://coldfusion.sys-con.com/read/49177.htm . What data do you want to store in an RSS Aggregator application? You can read all about the RSS 2.0 spec at www.rssboard.org/rss-specification . For purposes of this article, I'm only going to concentrate on required fields. \n RSS Feeds: The RSS feed seems like a good place to start. The app will have to store the name of the RSS feed and the URL location of the feed.  Items: Since we're aggregating feed data from a lot of different sources, we'll need to store the posts from each individual feed. It'll be more efficient to store them locally than to create the feed manually each time we want to display something. A post is put into the RSS XML document as an item. According to the spec, nothing is required in the item except for title or description; there's no guarantee that one will be there. For the sake of this article, we'll assume that title, link, and description will be there. Items have a one-to-many relationship with RSS feeds. Each blog can contain many posts, but each post belongs to only one blog. To implement this in the database, we put a primary key for the RSS feed into the items table.  Categories: Within the app, I want to be able to categorize each feed, so I can filter the group of messages that I'm reading. We'll add a category table to the database. This data won't be coming from the RSS, but some identifier that we create. The database structure is shown in Figure 1 . \nFor the model portion of this app, I'm going to use ColdFusion components. You can read more about component basics in two of my articles at http://coldfusion.sys-con.com/read/47203.htm and http://coldfusion.sys-con.com/read/47446.htm . I'd create one CFC for each element: an RSS Feed, an Item, and a Category. You can see the model in Figure 2 . You may notice that the CFCs are named in the singular tense, while the database tables are plural. This is because each CFC is designed to represent a single item, while the database tables contain many items. I left out individual getter and setter methods from the diagram, but the code will use the generic getter and setter methods from Hal Helm's BaseComponent.cfc http://halhelms.com/webresources/BaseComponent.cfc . Each component includes an init and a commit method. The init will load information out of the database, while the commit will create (or update) information in the database. \n \nThe RSSFeed and RSSCategory components will be used for maintaining feeds and categories. You might notice that the RSSFeed component contains an RSSCategory component instead of the CategoryID foreign key. I thought about putting an array of item objects in the RSSFeed, but decided against it. The application won't need to load all the items from the feed in question; a gateway object can be used to handle this type of action when viewing the data (although that's beyond the scope of this article). The RSSaggregator component is where most of the magic takes place. It will be the background process, run as part of a scheduled task. It will loop through each feed in the database, collect the latest data, and store the new items in the database. It will use the item component. \n\n Creating the RSS Feed Components \nIn real-world applications, I often like to start by building the administrator first. That way I don't have to worry about filling the tables with fake data to test the public-facing part of the site. Before we can start to process feeds on the back-end, we have to be able to enter the feeds into the database. We can start by fleshing out the RSSFeed and RSSCategory components. First, let's examine the RSSCategory component, as shown in Listing 1 . Nothing in the RSSCategory.cfc should surprise you. It contains two instance variables, the CategoryID and Category. The CategoryID is initialized as a string because this app uses UUIDs as primary keys instead of auto-incrementing integers. The component has two methods (plus a few inherited from Hal's BaseComponent.cfc). There's an init method that accepts the CategoryID and the datasource. It queries the database and sets the instance variables, if applicable. The second method is a commit method. It accepts the datasource name as an argument. If the CategoryID is blank, a new category is created. If it isn't, an update is performed. This isn't much different, in concept, from the address.cfc I wrote about in one of my previous component articles. \n\nThe RSSFeed component is shown in Listing 2 . You'll notice many similarities to the RSSCategory component. There are more properties in RSSFeed than RSSCategory, but the concept is the same. You can notice that the category property of the component is an instance of the RSSCategory component. Instead of containing the category information directly, only the reference is stored. To access the category information, we can use the get, or set, methods off the component instance. The set methods are demonstrated in init; while the get methods are demonstrated in commit. \n\n Entering the Data \nTo enter the data, a simple HTML form is used, as shown in Listing 3 . The first lines include a syslib.cfm file. This is just a utility library of functions. Two functions from the library are used in this component. The GetCategories function contains a query to get all categories. The \"CreateSelectList\" function is very similar to the cfselect tag for those who don't use cfform. (I'll make sure that all the code behind this article gets up on my blog; I left out the syslib.cfm for brevity). \n\nThe file creates an instance of the RSSFeed component. If an RSSFeedID is defined, it will run the init method; otherwise the base component is used. A form is created that asks for the category, and the http link of the RSS feed. The title and description are displayed on this form, but are actually populated from the RSS feed, so they're not editable. \n\nThe form submits onto Feedip.cfm, which is shown in Listing 4 . The initialization code is the same as in Listing 3. Then the code enters a try block. To get the description and title, we need to call the RSS feed. If the cfhttp call times out, we know that the RSS feed is wrong. The URL could be invalid in other ways, but that's the only thing we check for in this code. XMLParse is called on cfhttp.filecontent. I wrote an article about getting and processing XML feeds this way, and you can read it at http://coldfusion.sys-con.com/read/117667.htm . The remainder of the code sets the instance variables and calls the commit. Congratulations, you've saved a feed in the database. \n\n What's Next \nI've just about run out of space for this article, but this app is far from complete. In the next article I'll talk about the RSSAggregator and item componentS. It will create the scheduled task to call the aggregation code. Space permitting, I'll go into a gateway component along with some code that can be used to look at the aggregated data. If there isn't space in the next article for that, I'll fit it into some future article. Until next time, keep coding. \n    \nJeffry is a technical entrepreneur with over 10 years of making the web work for you.  Lately Jeffry has been cooped up in his cave building the first in a line of easy to use interface components for Flex Developers at www.flextras.com .\r\n\r\nHe has a Computer Science degree from the days before business met the Internet and owns DotComIt, an Adobe Solutions Partner specializing in Rich Internet Applications. Jeffry is an Adobe Community Expert and produces The Flex Show, a podcast that includes expert interviews and screencast tutorials. Jeffry is also co-manager of the Hartford CT Adobe User Group, author of three ColdFusion books and over 30 articles, and has spoken at various events all over the US.\r\n\r\nIn his spare time he is a musician, old school adventure game aficionado, and recording engineer. He also owns a Wii. You can read his blog at www.jeffryhouser.com, check out his podcast at www.theflexshow.com or check out his company at www.dot-com-it.com. \n     \nMost Recent Comments \n  \n@ThingsExpo Stories \n\nBy Carmen Gonzalez \nThe 17th International Cloud Expo has announced that its Call for Papers is open. 17th International Cloud Expo, to be held November 3-5, 2015, at the Santa Clara Convention Center in Santa Clara, CA, brings together Cloud Computing, APM, APIs, Microservices, Security, Big Data, Internet of Things, DevOps and WebRTC to one location.\nWith cloud computing driving a higher percentage of enterprise IT budgets every year, it becomes increasingly important to plant your flag in this fast-expanding business opportunity. Submit your speaking proposal today! \nSep. 12, 2015 07:00 PM EDT \u00a0Reads: 1,883 \n\nBy Elizabeth White \nWhile many app developers are comfortable building apps for the smartphone, there is a whole new world out there. \nIn his session at @ThingsExpo, Narayan Sainaney, Co-founder and CTO of Mojio, will discuss how the business case for connected car apps is growing and, with open platform companies having already done the heavy lifting, there really is no barrier to entry. \nSep. 12, 2015 07:00 PM EDT \u00a0Reads: 366 \n\nBy Elizabeth White \nAkana has announced the availability of the new Akana Healthcare Solution. The API-driven solution helps healthcare organizations accelerate their transition to being secure, digitally interoperable businesses. It leverages the Health Level Seven International Fast Healthcare Interoperability Resources (HL7 FHIR) standard to enable broader business use of medical data. Akana developed the Healthcare Solution in response to healthcare businesses that want to increase electronic, multi-device access to health records while reducing operating costs and complying with government regulations. \nSep. 12, 2015 06:30 PM EDT \u00a0Reads: 508 \n\nBy Elizabeth White \nWebRTC services have already permeated corporate communications in the form of videoconferencing solutions. However, WebRTC has the potential of going beyond and catalyzing a new class of services providing more than calls with capabilities such as mass-scale real-time media broadcasting, enriched and augmented video, person-to-machine and machine-to-machine communications. \nIn his session at @ThingsExpo, Luis Lopez, CEO of Kurento, will introduce the technologies required for implementing these ideas and some early experiments performed in the Kurento open source software community in areas ... \nSep. 12, 2015 06:00 PM EDT \u00a0Reads: 353 \n\nBy Carmen Gonzalez \nContainers are not new, but renewed commitments to performance, flexibility, and agility have propelled them to the top of the agenda today. By working without the need for virtualization and its overhead, containers are seen as the perfect way to deploy apps and services across multiple clouds. \nContainers can handle anything from file types to operating systems and services, including microservices. What are microservices? Unlike what the name implies, microservices are not necessarily small, but are focused on specific tasks. The ability for developers to deploy multiple containers \u2013 thous... \nSep. 12, 2015 05:00 PM EDT \u00a0Reads: 530 \n\nBy Elizabeth White \nSYS-CON Events has announced today that Roger Strukhoff has been named conference chair of Cloud Expo and @ThingsExpo 2015 Silicon Valley.\nThe 17th Cloud Expo and 4th @ThingsExpo will take place on November 3-5, 2015, at the Santa Clara Convention Center in Santa Clara, CA.\n\"The Internet of Things brings trillions of dollars of opportunity to developers and enterprise IT, no matter how you measure it,\" stated Roger Strukhoff. \"More importantly, it leverages the power of devices and the Internet to enable us all to improve the state of the world and lives of people.\" \nSep. 12, 2015 03:15 PM EDT \u00a0Reads: 168 \n\nBy Carmen Gonzalez \nAll major researchers estimate there will be tens of billions devices - computers, smartphones, tablets, and sensors - connected to the Internet by 2020. This number will continue to grow at a rapid pace for the next several decades.\nWith major technology companies and startups seriously embracing IoT strategies, now is the perfect time to attend @ThingsExpo, November 3-5, 2015, at the Santa Clara Convention Center in Santa Clara, CA. Learn what is going on, contribute to the discussions, and ensure that your enterprise is as \"IoT-Ready\" as it can be. \nSep. 12, 2015 03:00 PM EDT \u00a0Reads: 605 \n\nBy Liz McMillan \nConsumer IoT applications provide data about the user that just doesn\u2019t exist in traditional PC or mobile web applications. This rich data, or \u201ccontext,\u201d enables the highly personalized consumer experiences that characterize many consumer IoT apps. This same data is also providing brands with unprecedented insight into how their connected products are being used, while, at the same time, powering highly targeted engagement and marketing opportunities. \nIn his session at @ThingsExpo, Nathan Treloar, President and COO of Bebaio, will explore examples of brands transforming their businesses by t... \nSep. 12, 2015 03:00 PM EDT \u00a0Reads: 477 \n\nBy Pat Romanski \nSYS-CON Events announced today that Pythian, a global IT services company specializing in helping companies leverage disruptive technologies to optimize revenue-generating systems, has been named \u201cBronze Sponsor\u201d of SYS-CON's 17th Cloud Expo, which will take place on November 3\u20135, 2015, at the Santa Clara Convention Center in Santa Clara, CA.\nFounded in 1997, Pythian is a global IT services company that helps companies compete by adopting disruptive technologies such as cloud, Big Data, advanced analytics, and DevOps to advance innovation and increase agility. Specializing in designing, imple... \nSep. 12, 2015 02:45 PM EDT \u00a0Reads: 571 \n\nBy Pat Romanski \nWebRTC is about the data channel as much as about video and audio conferencing. However, basically all commercial WebRTC applications have been built with a focus on audio and video. The handling of \u201cdata\u201d has been limited to text chat and file download \u2013 all other data sharing seems to end with screensharing. What is holding back a more intensive use of peer-to-peer data?\nIn her session at @ThingsExpo, Dr Silvia Pfeiffer, WebRTC Applications Team Lead at National ICT Australia, will look at different existing uses of peer-to-peer data sharing and how it can become useful in a live session to... \nSep. 12, 2015 02:30 PM EDT \u00a0Reads: 122 \n\nBy Elizabeth White \nSYS-CON Events announced today the Containers & Microservices Bootcamp, being held November 3-4, 2015, in conjunction with 17th Cloud Expo, @ThingsExpo, and @DevOpsSummit at the Santa Clara Convention Center in Santa Clara, CA.\r\nThis is your chance to get started with the latest technology in the industry. Combined with real-world scenarios and use cases, the Containers and Microservices Bootcamp, led by Janakiram MSV, a Microsoft Regional Director, will include presentations as well as hands-on demos and comprehensive walkthroughs. \r \nSep. 12, 2015 02:00 PM EDT \u00a0Reads: 673 \n\nBy Elizabeth White \nContrary to mainstream media attention, the multiple possibilities of how consumer IoT will transform our everyday lives aren\u2019t the only angle of this headline-gaining trend. There\u2019s a huge opportunity for \u201cindustrial IoT\u201d and \u201cSmart Cities\u201d to impact the world in the same capacity \u2013 especially during critical situations. For example, a community water dam that needs to release water can leverage embedded critical communications logic to alert the appropriate individuals, on the right device, as soon as they are needed to take action. \nSep. 12, 2015 12:45 PM EDT \u00a0Reads: 389 \n\nBy Pat Romanski \nSYS-CON Events announced today that the \"Second Containers & Microservices Expo\" will take place November 3-5, 2015, at the Santa Clara Convention Center in Santa Clara, CA.\r\nContainers and microservices have become topics of intense interest throughout the cloud developer and enterprise IT communities. \nSep. 12, 2015 12:15 PM EDT \u00a0Reads: 834 \n\nBy Elizabeth White \nManufacturing connected IoT versions of traditional products requires more than multiple deep technology skills. It also requires a shift in mindset, to realize that connected, sensor-enabled \u201cthings\u201d act more like services than what we usually think of as products. \nIn his session at @ThingsExpo, David Friedman, CEO and co-founder of Ayla Networks, will discuss how when sensors start generating detailed real-world data about products and how they\u2019re being used, smart manufacturers can use the data to create additional revenue streams, such as improved warranties or premium features. Or slash... \nSep. 12, 2015 12:00 PM EDT \u00a0Reads: 341 \n\nBy Carmen Gonzalez \n17th Cloud Expo, taking place Nov 3-5, 2015, at the Santa Clara Convention Center in Santa Clara, CA, will feature technical sessions from a rock star conference faculty and the leading industry players in the world. Cloud computing is now being embraced by a majority of enterprises of all sizes. Yesterday's debate about public vs. private has transformed into the reality of hybrid cloud: a recent survey shows that 74% of enterprises have a hybrid cloud strategy. Meanwhile, 94% of enterprises are using some form of XaaS \u2013 software, platform, and infrastructure as a service. \nSep. 12, 2015 11:45 AM EDT \u00a0Reads: 1,781 \n\nBy Pat Romanski \nSYS-CON Events announced today that HPM Networks will exhibit at the 17th International Cloud Expo\u00ae, which will take place on November 3\u20135, 2015, at the Santa Clara Convention Center in Santa Clara, CA.\nFor 20 years, HPM Networks has been integrating technology solutions that solve complex business challenges. HPM Networks has designed solutions for both SMB and enterprise customers throughout the San Francisco Bay Area. \nSep. 12, 2015 09:15 AM EDT \u00a0Reads: 1,130 \n\nBy Liz McMillan \nAs more intelligent IoT applications shift into gear, they\u2019re merging into the ever-increasing traffic flow of the Internet. It won\u2019t be long before we experience bottlenecks, as IoT traffic peaks during rush hours. Organizations that are unprepared will find themselves by the side of the road unable to cross back into the fast lane. As billions of new devices begin to communicate and exchange data \u2013 will your infrastructure be scalable enough to handle this new interconnected world? \nSep. 12, 2015 06:00 AM EDT \u00a0Reads: 467 \n\nBy Pat Romanski \nThe Internet of Things is in the early stages of mainstream deployment but it promises to unlock value and rapidly transform how organizations manage, operationalize, and monetize their assets. IoT is a complex structure of hardware, sensors, applications, analytics and devices that need to be able to communicate geographically and across all functions. Once the data is collected from numerous endpoints, the challenge then becomes converting it into actionable insight. \nSep. 12, 2015 05:45 AM EDT \u00a0Reads: 318 \n\nBy Pat Romanski \nWith the Apple Watch making its way onto wrists all over the world, it\u2019s only a matter of time before it becomes a staple in the workplace. In fact, Forrester reported that 68 percent of technology and business decision-makers characterize wearables as a top priority for 2015. Recognizing their business value early on, FinancialForce.com was the first to bring ERP to wearables, helping streamline communication across front and back office functions. \nIn his session at @ThingsExpo, Kevin Roberts, GM of Platform at FinancialForce.com, will discuss the value of business applications on wearable ... \nSep. 12, 2015 04:45 AM EDT \u00a0Reads: 380 \n\nBy Carmen Gonzalez \nThe 3rd International WebRTC Summit, to be held Nov. 4\u20136, 2014, at the Santa Clara Convention Center in Santa Clara, CA, announces that its Call for Papers is now open. Topics include all aspects of improving IT delivery by eliminating waste through automated business models leveraging cloud technologies. WebRTC Summit is co-located with 15th International Cloud Expo, 6th International Big Data Expo, 3rd International DevOps Summit and 2nd Internet of @ThingsExpo. WebRTC (Web-based Real-Time Communication) is an open source project supported by Google, Mozilla and Opera that aims to enable bro... \nSep. 12, 2015 04:15 AM EDT \u00a0Reads: 1,800 \n       \u00a0", "source": "Coldfusion Developers Journal"}